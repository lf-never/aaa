<%- include('../userZone/userZone-create.html') -%>
<%- include('../userZone/userZone-view.html') -%>
<%- include('../route/route-create.html') -%>
<%- include('../route/route-view.html') -%>
<%- include('../incident/incident-view.html') -%>
<%- include('../driver/driver-view.html') -%>
<%- include('../driver/driver-create.html') -%>
<%- include('../driver/driver-upload.html') -%>
<%- include('../driver/driver-update.html') -%>
<%- include('../vehicle/vehicle-upload.html') -%>
<%- include('../waypoint/waypoint-upload.html') -%>
<%- include('../location/location-view.html') -%>
<%- include('../mileage/mileage-view.html') -%>
<link rel="stylesheet" href="../css/driver/driver-menu.css">
<script type="module" src="../scripts/driver/driver-menu.js"></script>
    
<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title">Driver Control</h5>
      <!-- <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button> -->
    </div>
    <div class="offcanvas-body">
        <!-- <div>
            <img alt="" src="../images/driver/car.png">
            <label class="user-select-none">User Zone Management</label>
        </div>
        <ul class="list-group">
            <li class="list-group-item user-select-none" data-action="userZone-create" data-bs-toggle="offcanvas" data-bs-target="#create-userZone" aria-controls="create-userZone">Create Zone</li>
            <li class="list-group-item user-select-none" data-action="userZone-view">View Zone</li>
        </ul>
        <hr> -->
        <% if (pageList.find(item => item.module == 'Driver Control' && ['View Mileage', 'Upload Driver', 'Upload Vehicle'].includes(item.page))) { %>
        <div>
            <img alt="" src="../images/driver/car.png">
            <label class="user-select-none">Driver Management</label>
        </div>
        <ul class="list-group">
            <!-- <li class="list-group-item user-select-none" data-action="driverTask-create">Driver Task Definition</li>
            <li class="list-group-item user-select-none" data-action="driverTask-view">View Driver Task</li> -->
            <% if (pageList.find(item => item.page == 'View Mileage')) { %>
                <li class="list-group-item user-select-none" data-action="mileage-view">View Mileage</li>
            <% } %>
            <% if (pageList.find(item => item.page == 'Upload Driver')) { %>
            <li class="list-group-item user-select-none" data-action="driver-upload">Upload Driver List</li>
            <% } %>
            <% if (pageList.find(item => item.page == 'Upload Vehicle')) { %>
            <li class="list-group-item user-select-none" data-action="vehicle-upload">Upload Vehicle List</li>
            <% } %>
        </ul>
        <hr>
        <% } %>
        <% if (pageList.find(item => ['Create Route', 'View Route', 'Waypoint', 'Location', 'Incident'].includes(item.page) )) { %>
        <div>
            <img alt="" src="../images/driver/car.png">
            <label class="user-select-none">Route Management</label>
        </div>
        <ul class="list-group">
            <% if (pageList.find(item => item.page == 'Create Route')) { %>
            <li class="list-group-item user-select-none" data-action="route-create" data-bs-toggle="offcanvas" data-bs-target="#create-route" aria-controls="create-route">Create Routes</li>
            <% } %>

            <% if (pageList.find(item => item.page == 'View Route')) { %>
            <li class="list-group-item user-select-none" data-action="route-view">View/Edit Routes</li>
            <% } %>

            <% if (pageList.find(item => item.page == 'Waypoint')) { %>
            <li class="list-group-item user-select-none" data-action="waypoint-upload">Upload Waypoint List</li>
            <% } %>

            <% if (pageList.find(item => item.page == 'Location')) { %>
            <li class="list-group-item user-select-none" data-action="location-view">View/Edit Location</li>
            <% } %>

            <% if (pageList.find(item => item.page == 'Incident')) { %>
            <li class="list-group-item user-select-none" data-action="incident-view">View/Edit Incident</li>
            <% } %>
        </ul>
        <% } %>
        
    </div>
</div>